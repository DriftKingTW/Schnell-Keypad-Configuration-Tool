import{a as e}from"./connect-3e6b1f54.fc462a4a.js";import"./index.d145baa9.js";class r{static _d2h(a){var s=(+a).toString(16);return s.length===1?"0"+s:s}}e(r,"CHIP_NAME","ESP32"),e(r,"IMAGE_CHIP_ID",0),e(r,"EFUSE_RD_REG_BASE",1073061888),e(r,"DR_REG_SYSCON_BASE",1073111040),e(r,"UART_CLKDIV_REG",1072955412),e(r,"UART_CLKDIV_MASK",1048575),e(r,"UART_DATE_REG_ADDR",1610612856),e(r,"XTAL_CLK_DIVIDER",1),e(r,"FLASH_WRITE_SIZE",1024),e(r,"BOOTLOADER_FLASH_OFFSET",4096),e(r,"FLASH_SIZES",{"1MB":0,"2MB":16,"4MB":32,"8MB":48,"16MB":64}),e(r,"SPI_REG_BASE",1072963584),e(r,"SPI_USR_OFFS",28),e(r,"SPI_USR1_OFFS",32),e(r,"SPI_USR2_OFFS",36),e(r,"SPI_W0_OFFS",128),e(r,"SPI_MOSI_DLEN_OFFS",40),e(r,"SPI_MISO_DLEN_OFFS",44),e(r,"TEXT_START",1074520064),e(r,"ENTRY",1074521496),e(r,"DATA_START",1073605544),e(r,"ROM_DATA","CMD8Pw=="),e(r,"ROM_TEXT","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"),e(r,"read_efuse",async(u,a)=>{var s=r.EFUSE_RD_REG_BASE+4*a;return console.log("Read efuse "+s),await u.read_reg({addr:s})}),e(r,"get_pkg_version",async u=>{var a=await r.read_efuse(u,3),s=a>>9&7;return s+=(a>>2&1)<<3}),e(r,"get_chip_revision",async u=>{var a=await r.read_efuse(u,3),s=await r.read_efuse(u,5),t=await u.read_reg({addr:r.DR_REG_SYSCON_BASE+124});return(a>>15&1)!=0?(s>>20&1)!=0?(t>>31&1)!=0?3:2:1:0}),e(r,"get_chip_description",async u=>{var a=["ESP32-D0WDQ6","ESP32-D0WD","ESP32-D2WD","","ESP32-U4WDH","ESP32-PICO-D4","ESP32-PICO-V3-02"],s="",t=await r.get_pkg_version(u),i=await r.get_chip_revision(u),S=i==3;return(1&await r.read_efuse(u,3))!=0&&(a[0]="ESP32-S0WDQ6",a[1]="ESP32-S0WD"),S&&(a[5]="ESP32-PICO-V3"),s=t>=0&&t<=6?a[t]:"Unknown ESP32",!S||t!==0&&t!==1||(s+="-V3"),s+" (revision "+i+")"}),e(r,"get_chip_features",async u=>{var a=["Wi-Fi"],s=await r.read_efuse(u,3);(2&s)===0&&a.push(" BT"),(1&s)!==0?a.push(" Single Core"):a.push(" Dual Core"),(8192&s)!==0&&((4096&s)!==0?a.push(" 160MHz"):a.push(" 240MHz"));var t=await r.get_pkg_version(u);[2,4,5,6].includes(t)&&a.push(" Embedded Flash"),t===6&&a.push(" Embedded PSRAM"),(await r.read_efuse(u,4)>>8&31)!==0&&a.push(" VRef calibration in efuse"),(s>>14&1)!==0&&a.push(" BLK3 partially reserved");var i=3&await r.read_efuse(u,6);return a.push(" Coding Scheme "+["None","3/4","Repeat (UNSUPPORTED)","Invalid"][i]),a}),e(r,"get_crystal_freq",async u=>{var a,s=await u.read_reg({addr:r.UART_CLKDIV_REG})&r.UART_CLKDIV_MASK,t=u.transport.baudrate*s/1e6/r.XTAL_CLK_DIVIDER;return a=t>33?40:26,Math.abs(a-t)>1&&u.log("WARNING: Unsupported crystal in use"),a}),e(r,"read_mac",async u=>{var a=await r.read_efuse(u,1);a>>>=0;var s=await r.read_efuse(u,2);s>>>=0;var t=new Uint8Array(6);return t[0]=s>>8&255,t[1]=255&s,t[2]=a>>24&255,t[3]=a>>16&255,t[4]=a>>8&255,t[5]=255&a,r._d2h(t[0])+":"+r._d2h(t[1])+":"+r._d2h(t[2])+":"+r._d2h(t[3])+":"+r._d2h(t[4])+":"+r._d2h(t[5])}),e(r,"get_erase_size",function(u,a){return a});export{r as default};
